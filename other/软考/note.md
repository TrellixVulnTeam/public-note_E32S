# 一、数据通信基础
## 1.1 信道特性
* 信道带宽
    * 模拟信道带宽: `W = f2 - f1`
        * f1是信道能通过的最低频率, f2是信道能通过的最高频率, 由物理特性决定
    * 数字信道带宽
        * 码元, 一个数字脉冲, 也可以理解为一个符号
        * 码元速率(波特率), 单位时间内信号变换的次数, 也可以理解为传输符号的个数: `B = 1 / T`
            * B为波特率, T为单个码元传输时间
            * 对于无噪声的模拟信道带宽为W， 奈奎斯特定理表明，极限波特率为: `B = 2*W`
        * 【重要】数据速率(比特率): `R = W * log2(N)`, 因此无噪信道的极限比特率为 `R = 2 * W * log2(N)`
            * N为码元种类数, 如3bit的码元种类数为8
        * 【重要】有噪声的信道极限数据速率(香浓定理)为: `C = W * log2(1 + S / N)`
            * S/N 为信噪比, db = 10*log10(S/N)
        * 数字信道的带宽就是 信道能达到的最大数据速率。
* 误码率: `Pc = Ne / N`
    * Ne为出错的位数, N为传送的总位数。
    * 计算机网络要求Pc < 10^(-6), 1Mb最多只能错一个。
* 信道延迟, 从信源到信宿需要的时间。

## 1.2 传输介质
* 双绞线, 通常一根民用网线中有多根双绞线。
* 同轴电缆
* 光纤
* 无线信道

## 1.3 数据编码
* 单极性码, 只用正的(或负的)的表示0，0V表示1。抗噪性能差，需要时钟信号配合定时
* 极性码, 用正负电压分别表示0和1。抗噪性能好，需时钟信号配合定时。
* 双极性码, 信号在正负零之间变化。
    * AMI, 一种双极性码, 遇到1使信号正负交替, 遇到0则保持零电平。
* 归零码, 码元中间的信号回归到零电平。自定时，抗干扰好。
* 双相码，每一位码元都要有一个信号翻转。自定时，检错。
    * 曼彻斯特编码， 1->0表示0, 0->1表示1
    * 差分曼彻斯特编码
* 不归零码，1出现翻转电平，0出现不翻转电平。
* 【重要】4B/5B编码，使用曼彻斯特编码和差分曼彻斯特编码会导致每bit都要跳变，因此带宽会是数据速率的两倍，成本太高。
    * 先进行4B/5B译码 然后再通过NRZ编码。

## 1.4 数字调制技术
* 调幅(ASK), 将0和1调制为不同幅度，但是频率相同的载波。
* 调频(FSK), 将0和1条职位不同频率，但是幅度相同的载波。
* 跳相(PSK), 利用相邻载波信号的香味来表示数据的信息，频率和幅度不变。
    * DPSK 相位不变为1 反相位为0
* 正交调幅(QAM), 对正弦波和余弦波进行数字调幅, 相加后进行传输。是ASK和PSK的结合使用。
    * 【重要】该书涉及的QAM通常是16QAM，即一个码元有16个符号，数据速率是波特率的4倍。

## 1.5 脉冲编码调制
* 采样
    * 【重要】根据奈奎斯特采样定理，采样速率必须大于模拟信号最高频率的两倍。否则无法恢复原来的模拟信号。
* 量化
* 编码

## 1.6 通信方式
【重要】主要是要一些计算方法:
* 电磁波速率: 200km/ms
* 传播时延: 距离/电磁波速率
* 对于同步方式
    * 每帧有一应一答两个包，每个包都有传播时延。
    * N帧有2N个包，有2N * 单个包传播时延。
    * N帧有N * 单位帧bit的数据量，传输耗时为N * 单位帧耗时/速率。


## 1.7 交换方式
* 电路交换, 用物理线路吧发送方和接收方直接连通。3个阶段:
    * 1) 建立线路
    * 2) 数据传输
    * 3) 释放线路
    * 独占性强，实时性好，适合于大量数据传输。
* 报文交换(存储转发交换), 不要求通信节点之间建立专用线路，报文中包含目标地址，完整的报文在网络中进行传送。
    * 每个中间节点接受完整的报文
    * 解析报文目标地址，进行转发
    * 缺点是通信可能有延时。
* 分组交换, 类似报文交换，但是限制了报文的长度.节点会对数据进行分组病编号，每个分组都有原地址和目标地址。
    * 数据包，类似报文交换，每个分组都有完整的地址信息。可能存在重排序和丢包问题。
    * 虚电路，类似电路交换，发送端和接收端建立逻辑连接。发送端发出的分组都走这一条通路。其实就是先建立会话，会话建立后中间节点的转发就已经确定了，一个包一个包的传，效率较低。

## 1.8 多路复用技术
* 频分多路复用
* 时分多路复用
* 波分多路复用
* 码分多路复用
* 【重要】数字传输系统
    * T1，24路时分多路的方式符合在一条1.544Mb/s的总信道，每一路的传输速率是56Kb/s
    * E1，总速率为2.048Mb/s，子信道速率为64Kb/s，有32个子信道
    * E2，4个E1。E3、E4同理。
 
## 1.9 差错控制
* 奇偶校验
    * 水平奇偶校验，7bit的ASCII后增加1bit，使码字中1的个数变成奇数或偶数。
    * 垂直奇偶校验，将传输的信息分组，分为若干行列。组中每个字符相同位进行奇偶校验，最终产生一批奇偶校验字符，附加在分组信息之后。
    * 水平垂直奇偶校验，实在水平校验的基础上实施垂直校验，保证最后一位的正确性。
* 海明码
    * 【重要】海明距，一个码字改变成另一个码字的最小位数。
    * 如果海明距为d，则所有小于等于d-1位的错误都可以检查出来，所有小于d/2的错误都可以修正。
    * 【重要】单bit海明码纠错下限：`2^k > k + m + 1`
        * k为校验位数，m为信息位数
* CRC